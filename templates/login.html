{% extends "layout.html" %}

{% block title %}
    Login
{% endblock %}

{% block main %}
    <form class="login" action="/login" method="POST">
        <div class="form-group">
            <label for="email"><strong>Username/Email</strong></label>
            <input type="text" class="form-control" name="username" autocomplete="off" onkeydown="validate_inputs()">
        </div>
        <div class="form-group">
            <label for="pwd"><strong>Password</strong></label>
            <input type="password" class="form-control" name="password" autocomplete="off" onkeydown="validate_inputs()">
        </div>
        <button id="submit_button" class="btn" type="submit">Submit</button>
        <div class="mx-auto ta-center fs-body1 p16 pb0 mb24 w100 wmx3">
            DonÂ´t have an account? 
            <a href="/register">Register</a>
        </div>
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function(){
            validate_inputs()
        });
        function validate_inputs()
        {
            all_inputs = true;
            let button = document.getElementById("submit_button");
            button.disabled = true;
            let inputs = document.querySelectorAll(".form-control");
            for( let i=0; i < inputs.length; i++)
            {
                if (inputs[i].value === "")
                {
                    all_inputs = false;
                }
            }
            if (all_inputs)
            {
                button.disabled = false;
            }
        }
    </script>
{% endblock %}